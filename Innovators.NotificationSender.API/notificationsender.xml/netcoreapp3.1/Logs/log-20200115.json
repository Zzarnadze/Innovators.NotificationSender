{"@t":"2020-01-14T21:51:34.4943372Z","@mt":"Application Starting Up","MachineName":"USER-PC","ProcessId":11776,"ThreadId":1}
{"@t":"2020-01-14T21:51:41.3174506Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["493.1009"],"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":493.1009,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7FNME3R0:00000001","SpanId":"|20f95756-47f4ea70c785b1ee.","TraceId":"20f95756-47f4ea70c785b1ee","ParentId":"","MachineName":"USER-PC","ProcessId":11776,"ThreadId":9}
{"@t":"2020-01-14T21:51:41.4107493Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["28.8557"],"RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-standalone-preset.js","StatusCode":304,"Elapsed":28.8557,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7FNME3R0:00000007","SpanId":"|20f95759-47f4ea70c785b1ee.","TraceId":"20f95759-47f4ea70c785b1ee","ParentId":"","MachineName":"USER-PC","ProcessId":11776,"ThreadId":10}
{"@t":"2020-01-14T21:51:41.4109983Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["32.7147"],"RequestMethod":"GET","RequestPath":"/swagger/swagger-ui.css","StatusCode":304,"Elapsed":32.7147,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7FNME3R0:00000003","SpanId":"|20f95757-47f4ea70c785b1ee.","TraceId":"20f95757-47f4ea70c785b1ee","ParentId":"","MachineName":"USER-PC","ProcessId":11776,"ThreadId":5}
{"@t":"2020-01-14T21:51:41.4111717Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["29.7158"],"RequestMethod":"GET","RequestPath":"/swagger/swagger-ui-bundle.js","StatusCode":304,"Elapsed":29.7158,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7FNME3R0:00000005","SpanId":"|20f95758-47f4ea70c785b1ee.","TraceId":"20f95758-47f4ea70c785b1ee","ParentId":"","MachineName":"USER-PC","ProcessId":11776,"ThreadId":11}
{"@t":"2020-01-14T21:51:42.1351726Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["293.6359"],"RequestMethod":"GET","RequestPath":"/docs/v1.0/swagger.json","StatusCode":200,"Elapsed":293.6359,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7FNME3R0:00000009","SpanId":"|20f9575a-47f4ea70c785b1ee.","TraceId":"20f9575a-47f4ea70c785b1ee","ParentId":"","MachineName":"USER-PC","ProcessId":11776,"ThreadId":4}
{"@t":"2020-01-14T22:10:29.5857592Z","@mt":"Application Starting Up","MachineName":"USER-PC","ProcessId":31236,"ThreadId":1}
{"@t":"2020-01-14T22:10:37.3315279Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["461.2593"],"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":461.2593,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7QA99A72:00000001","SpanId":"|582253a7-4f125768f634add5.","TraceId":"582253a7-4f125768f634add5","ParentId":"","MachineName":"USER-PC","ProcessId":31236,"ThreadId":4}
{"@t":"2020-01-14T22:10:38.5797725Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["348.4108"],"RequestMethod":"GET","RequestPath":"/docs/v1.0/swagger.json","StatusCode":200,"Elapsed":348.4108,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP7QA99A72:00000003","SpanId":"|582253a8-4f125768f634add5.","TraceId":"582253a8-4f125768f634add5","ParentId":"","MachineName":"USER-PC","ProcessId":31236,"ThreadId":9}
{"@t":"2020-01-14T22:10:51.8327040Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","elapsed":"86","parameters":"","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [m].[Id], [m].[CreatedByCustomerId], [m].[CreationDate], [m].[Email], [m].[Host], [m].[IsActive], [m].[IsDeleted], [m].[LastModificationDate], [m].[LastModifiedByCustomerId], [m].[NotificationTypeId], [m].[Password], [m].[Port], [m].[UserName]\r\nFROM [MailConfigurations] AS [m]\r\nWHERE ([m].[IsActive] = CAST(1 AS bit)) AND ([m].[IsDeleted] = CAST(0 AS bit))","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4047a5fc-c3f5-4462-9f7e-ae4ea2e69a41","ActionName":"Innovators.NotificationSender.API.Controllers.NotificationController.SendMail (Innovators.NotificationSender.API)","RequestId":"0HLSP7QA99A72:00000005","RequestPath":"/api/v1.0/Notification/SendMail","SpanId":"|582253a9-4f125768f634add5.","TraceId":"582253a9-4f125768f634add5","ParentId":"","MachineName":"USER-PC","ProcessId":31236,"ThreadId":9}
{"@t":"2020-01-14T22:10:51.9289285Z","@mt":"An exception occurred while iterating over the results of a query for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'NotificationTypeId'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:1adaf99d-8e93-4c73-823b-8046eea3b67f\r\nError Number:207,State:1,Class:16","contextType":"Innovators.NotificationSender.Persistence.Context.NotificationSenderDbCondetxt","newline":"\r\n","error":"Microsoft.Data.SqlClient.SqlException (0x80131904): Invalid column name 'NotificationTypeId'.\r\n   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__164_0(Task`1 result)\r\n   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()\r\n   at System.Threading.Tasks.Task.<>c.<.cctor>b__274_0(Object obj)\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)\r\n   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)\r\n--- End of stack trace from previous location where exception was thrown ---\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(DbContext _, Boolean result, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()\r\nClientConnectionId:1adaf99d-8e93-4c73-823b-8046eea3b67f\r\nError Number:207,State:1,Class:16","EventId":{"Id":10100,"Name":"Microsoft.EntityFrameworkCore.Query.QueryIterationFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"4047a5fc-c3f5-4462-9f7e-ae4ea2e69a41","ActionName":"Innovators.NotificationSender.API.Controllers.NotificationController.SendMail (Innovators.NotificationSender.API)","RequestId":"0HLSP7QA99A72:00000005","RequestPath":"/api/v1.0/Notification/SendMail","SpanId":"|582253a9-4f125768f634add5.","TraceId":"582253a9-4f125768f634add5","ParentId":"","MachineName":"USER-PC","ProcessId":31236,"ThreadId":9}
{"@t":"2020-01-14T22:21:16.8373087Z","@mt":"Application Starting Up","MachineName":"USER-PC","ProcessId":4132,"ThreadId":1}
{"@t":"2020-01-14T22:21:26.6504114Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["731.4036"],"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":731.4036,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP80BI4U1G:00000001","SpanId":"|46fef04b-45e50881860dd25f.","TraceId":"46fef04b-45e50881860dd25f","ParentId":"","MachineName":"USER-PC","ProcessId":4132,"ThreadId":7}
{"@t":"2020-01-14T22:21:27.3131705Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["337.4214"],"RequestMethod":"GET","RequestPath":"/docs/v1.0/swagger.json","StatusCode":200,"Elapsed":337.4214,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP80BI4U1G:00000003","SpanId":"|46fef04c-45e50881860dd25f.","TraceId":"46fef04c-45e50881860dd25f","ParentId":"","MachineName":"USER-PC","ProcessId":4132,"ThreadId":7}
{"@t":"2020-01-14T22:40:26.0449636Z","@mt":"Application Starting Up","MachineName":"USER-PC","ProcessId":24620,"ThreadId":1}
{"@t":"2020-01-14T22:40:33.9303657Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["283.3360"],"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":283.336,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP8B1P4J5D:00000001","SpanId":"|1d2d3a5f-43898619d599f654.","TraceId":"1d2d3a5f-43898619d599f654","ParentId":"","MachineName":"USER-PC","ProcessId":24620,"ThreadId":7}
{"@t":"2020-01-14T22:40:34.5515093Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["388.5987"],"RequestMethod":"GET","RequestPath":"/docs/v1.0/swagger.json","StatusCode":200,"Elapsed":388.5987,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP8B1P4J5D:00000003","SpanId":"|1d2d3a60-43898619d599f654.","TraceId":"1d2d3a60-43898619d599f654","ParentId":"","MachineName":"USER-PC","ProcessId":24620,"ThreadId":10}
{"@t":"2020-01-14T22:41:28.8488714Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["20735.6712"],"RequestMethod":"POST","RequestPath":"/api/v1.0/Notification/SendMail","StatusCode":201,"Elapsed":20735.6712,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP8B1P4J5D:00000005","SpanId":"|1d2d3a61-43898619d599f654.","TraceId":"1d2d3a61-43898619d599f654","ParentId":"","MachineName":"USER-PC","ProcessId":24620,"ThreadId":4}
{"@t":"2020-01-14T22:42:50.7340498Z","@mt":"Application Starting Up","MachineName":"USER-PC","ProcessId":25196,"ThreadId":1}
{"@t":"2020-01-14T22:42:59.1038298Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["337.7598"],"RequestMethod":"GET","RequestPath":"/swagger/index.html","StatusCode":200,"Elapsed":337.7598,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP8CD33ITH:00000001","SpanId":"|bf15671-4e70b06c6d3970ae.","TraceId":"bf15671-4e70b06c6d3970ae","ParentId":"","MachineName":"USER-PC","ProcessId":25196,"ThreadId":5}
{"@t":"2020-01-14T22:42:59.7155160Z","@mt":"HTTP {RequestMethod} {RequestPath} responded {StatusCode} in {Elapsed:0.0000} ms","@r":["159.4874"],"RequestMethod":"GET","RequestPath":"/docs/v1.0/swagger.json","StatusCode":200,"Elapsed":159.4874,"SourceContext":"Serilog.AspNetCore.RequestLoggingMiddleware","RequestId":"0HLSP8CD33ITH:00000003","SpanId":"|bf15672-4e70b06c6d3970ae.","TraceId":"bf15672-4e70b06c6d3970ae","ParentId":"","MachineName":"USER-PC","ProcessId":25196,"ThreadId":9}
{"@t":"2020-01-14T22:43:34.3212092Z","@mt":"Failed executing DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","@l":"Error","elapsed":"64","parameters":"@p0='?' (Size = 1000), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Boolean), @p4='?' (DbType = DateTime2), @p5='?' (DbType = Int32), @p6='?' (Size = 10), @p7='?' (DbType = Int32), @p8='?' (DbType = Int32), @p9='?' (Size = 300), @p10='?' (Size = 254), @p11='?' (Size = 254), @p12='?' (Size = 50), @p13='?' (DbType = Int32), @p14='?' (DbType = Int32), @p15='?' (Size = 4000), @p16='?' (Size = 300), @p17='?' (DbType = Int32), @p18='?' (Size = 4000), @p19='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [Notifications] ([Body], [CreatedByCustomerId], [CreationDate], [IsBodyHtml], [LastModificationDate], [LastModifiedByCustomerId], [MessageId], [NotificationStatusId], [NotificationTypeId], [ProviderName], [Receiver], [Sender], [SenderDisplay], [ServiceId], [SubTemplateId], [SubTemplateItems], [Subject], [TemplateId], [TemplateItems], [UserId])\r\nVALUES (@p0, @p1, @p2, @p3, @p4, @p5, @p6, @p7, @p8, @p9, @p10, @p11, @p12, @p13, @p14, @p15, @p16, @p17, @p18, @p19);\r\nSELECT [Id], [IsActive], [IsDeleted]\r\nFROM [Notifications]\r\nWHERE @@ROWCOUNT = 1 AND [Id] = scope_identity();","EventId":{"Id":20102,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandError"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"8b221b25-b309-4a7e-b08c-575357337653","ActionName":"Innovators.NotificationSender.API.Controllers.NotificationController.SendMail (Innovators.NotificationSender.API)","RequestId":"0HLSP8CD33ITH:00000005","RequestPath":"/api/v1.0/Notification/SendMail","SpanId":"|bf15673-4e70b06c6d3970ae.","TraceId":"bf15673-4e70b06c6d3970ae","ParentId":"","MachineName":"USER-PC","ProcessId":25196,"ThreadId":5}
{"@t":"2020-01-14T22:43:34.3814412Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Files_NotificationType_NotificationTypeId\". The conflict occurred in database \"InnovatorsNotificationDb\", table \"dbo.NotificationTypes\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\nClientConnectionId:f1f54e77-8a38-41c5-badb-8710a493a53c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","contextType":"Innovators.NotificationSender.Persistence.Context.NotificationSenderDbCondetxt","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while updating the entries. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_Files_NotificationType_NotificationTypeId\". The conflict occurred in database \"InnovatorsNotificationDb\", table \"dbo.NotificationTypes\", column 'Id'.\r\nThe statement has been terminated.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryConsumeMetaData()\r\n   at Microsoft.Data.SqlClient.SqlDataReader.get_MetaData()\r\n   at Microsoft.Data.SqlClient.SqlCommand.FinishExecuteReader(SqlDataReader ds, RunBehavior runBehavior, String resetOptionsString, Boolean isInternal, Boolean forDescribeParameterEncryption, Boolean shouldCacheForAlwaysEncrypted)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReaderTds(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, Boolean isAsync, Int32 timeout, Task& task, Boolean asyncWrite, Boolean inRetry, SqlDataReader ds, Boolean describeParameterEncryptionRequest)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, TaskCompletionSource`1 completion, Int32 timeout, Task& task, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteReader(CommandBehavior cmdBehavior, RunBehavior runBehavior, Boolean returnStream, String method)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteReader(CommandBehavior behavior)\r\n   at Microsoft.Data.SqlClient.SqlCommand.ExecuteDbDataReader(CommandBehavior behavior)\r\n   at System.Data.Common.DbCommand.ExecuteReader()\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReader(RelationalCommandParameterObject parameterObject)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\nClientConnectionId:f1f54e77-8a38-41c5-badb-8710a493a53c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.Execute(IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.Execute(IEnumerable`1 commandBatches, IRelationalConnection connection)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChanges(IList`1 entries)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(IList`1 entriesToSave)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(DbContext _, Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.Execute[TState,TResult](TState state, Func`3 operation, Func`3 verifySucceeded)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChanges(Boolean acceptAllChangesOnSuccess)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChanges(Boolean acceptAllChangesOnSuccess)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"8b221b25-b309-4a7e-b08c-575357337653","ActionName":"Innovators.NotificationSender.API.Controllers.NotificationController.SendMail (Innovators.NotificationSender.API)","RequestId":"0HLSP8CD33ITH:00000005","RequestPath":"/api/v1.0/Notification/SendMail","SpanId":"|bf15673-4e70b06c6d3970ae.","TraceId":"bf15673-4e70b06c6d3970ae","ParentId":"","MachineName":"USER-PC","ProcessId":25196,"ThreadId":5}
